{% extends "base.html" %}

{% block title %}Editar Usuario - LandLink{% endblock %}

{% block content %}
<section class="admin-container">
    <h1>Editar Usuario</h1>
    
    <div class="admin-actions">
        <a href="{{ url_for('admin.users') }}" class="btn btn-secondary">Volver a Usuarios</a>
    </div>
    
    <form method="POST" action="{{ url_for('admin.edit_user', user_id=user.id) }}" class="admin-form">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        
        <div class="form-group">
            <label for="nombre">Nombre</label>
            <input type="text" id="nombre" name="nombre" value="{{ user.nombre }}" required>
        </div>
        
        <div class="form-group">
            <label for="apellido">Apellido</label>
            <input type="text" id="apellido" name="apellido" value="{{ user.apellido }}" required>
        </div>
        
        <div class="form-group">
            <label for="correo_electronico">Correo Electrónico</label>
            <input type="email" id="correo_electronico" name="correo_electronico" value="{{ user.correo_electronico }}" required>
        </div>
        
        <div class="form-group">
            <label for="telefono">Teléfono</label>
            <input type="tel" id="telefono" name="telefono" value="{{ user.telefono or '' }}">
        </div>
        
        <div class="form-group">
            <label for="rol_id">Rol</label>
            <select id="rol_id" name="rol_id" required>
                <option value="">Seleccione un rol</option>
                {% for role in roles %}
                    <option value="{{ role.id }}" {% if user.rol_id == role.id %}selected{% endif %}>{{ role.nombre }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label for="estado">Estado</label>
            <select id="estado" name="estado" required>
                <option value="activo" {% if user.estado == 'activo' %}selected{% endif %}>Activo</option>
                <option value="inactivo" {% if user.estado == 'inactivo' %}selected{% endif %}>Inactivo</option>
                <option value="bloqueado" {% if user.estado == 'bloqueado' %}selected{% endif %}>Bloqueado</option>
            </select>
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Guardar Cambios</button>
            <a href="{{ url_for('admin.users') }}" class="btn btn-secondary">Cancelar</a>
        </div>
    </form>
</section>
{% endblock %}
